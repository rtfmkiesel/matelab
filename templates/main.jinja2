{% include "header.jinja2" %}

<div class="table-container">
	<table id="main-table" class="display compact">
		<thead>
			<tr>
				<th>Product</th>
				<th class="numeric">Caffeine<br><small>(mg/100ml)</small></th>
				<th class="numeric">Caffeine Total<br><small>(mg)</small></th>
				<th class="numeric">Sugar<br><small>(g/100ml)</small></th>
				<th class="numeric">Sugar Total<br><small>(g)</small></th>
			</tr>
		</thead>
		<tbody>
			{% for item in products %}
			<tr{% if item.discontinued %} class="discontinued"{% endif %}>
				<td>
					<a href="/products/{{ item['siteurl'] }}" class="product-link">
						{{ item["brand"] }} {{ item["product"] }}
					</a>
					<div class="product-meta">
						{{ item["size"] }}ml {{ item["packaging"] }}
						{% if item.discontinued %} â€¢ No longer available{% endif %}
					</div>
				</td>
				<td class="numeric">{{ item["caffeine"] }}</td>
				<td class="numeric">{{ item["caffeinetotal"] }}</td>
				<td class="numeric">{{ item["sugar"] }}</td>
				<td class="numeric">{{ item["sugartotal"] }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

<script>
$(document).ready(function() {
	$('#main-table').DataTable({
		pageLength: 25,
		order: [[1, 'desc']], // Sort by caffeine by default
		columnDefs: [
			{ targets: [1, 2, 3, 4], className: 'numeric' }
		],
		language: {
			search: "Search:",
			lengthMenu: "Show _MENU_ beverages per page",
			info: "Showing _START_-_END_ of _TOTAL_",
			paginate: {
				first: "First",
				last: "Last",
				next: "Next",
				previous: "Previous"
			}
		}
	});
});
</script>

{% include "footer.jinja2" %}